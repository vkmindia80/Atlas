{"ast":null,"code":"import _objectSpread from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar I = Object.defineProperty;\nvar h = (t, i, e) => i in t ? I(t, i, {\n  enumerable: !0,\n  configurable: !0,\n  writable: !0,\n  value: e\n}) : t[i] = e;\nvar f = (t, i, e) => (h(t, typeof i != \"symbol\" ? i + \"\" : i, e), e);\nimport { Machine as A } from '../../machine.js';\nimport { ActionTypes as E, stackMachines as R } from '../../machines/stack-machine.js';\nimport { Focus as T, calculateActiveIndex as g } from '../../utils/calculate-active-index.js';\nimport { ElementPositionState as d, computeVisualPosition as M, detectMovement as C } from '../../utils/element-movement.js';\nimport { sortByDomNode as F } from '../../utils/focus-management.js';\nimport { match as O } from '../../utils/match.js';\nvar P = (e => (e[e.Open = 0] = \"Open\", e[e.Closed = 1] = \"Closed\", e))(P || {}),\n  k = (e => (e[e.Single = 0] = \"Single\", e[e.Multi = 1] = \"Multi\", e))(k || {}),\n  _ = (n => (n[n.Pointer = 0] = \"Pointer\", n[n.Focus = 1] = \"Focus\", n[n.Other = 2] = \"Other\", n))(_ || {}),\n  D = (l => (l[l.OpenCombobox = 0] = \"OpenCombobox\", l[l.CloseCombobox = 1] = \"CloseCombobox\", l[l.GoToOption = 2] = \"GoToOption\", l[l.SetTyping = 3] = \"SetTyping\", l[l.RegisterOption = 4] = \"RegisterOption\", l[l.UnregisterOption = 5] = \"UnregisterOption\", l[l.DefaultToFirstOption = 6] = \"DefaultToFirstOption\", l[l.SetActivationTrigger = 7] = \"SetActivationTrigger\", l[l.UpdateVirtualConfiguration = 8] = \"UpdateVirtualConfiguration\", l[l.SetInputElement = 9] = \"SetInputElement\", l[l.SetButtonElement = 10] = \"SetButtonElement\", l[l.SetOptionsElement = 11] = \"SetOptionsElement\", l[l.MarkInputAsMoved = 12] = \"MarkInputAsMoved\", l))(D || {});\nfunction v(t) {\n  let i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : e => e;\n  let e = t.activeOptionIndex !== null ? t.options[t.activeOptionIndex] : null,\n    n = i(t.options.slice()),\n    o = n.length > 0 && n[0].dataRef.current.order !== null ? n.sort((u, a) => u.dataRef.current.order - a.dataRef.current.order) : F(n, u => u.dataRef.current.domRef.current),\n    r = e ? o.indexOf(e) : null;\n  return r === -1 && (r = null), {\n    options: o,\n    activeOptionIndex: r\n  };\n}\nlet j = {\n  [1](t) {\n    var e;\n    if ((e = t.dataRef.current) != null && e.disabled || t.comboboxState === 1) return t;\n    let i = t.inputElement ? d.Tracked(M(t.inputElement)) : t.inputPositionState;\n    return _objectSpread(_objectSpread({}, t), {}, {\n      activeOptionIndex: null,\n      comboboxState: 1,\n      isTyping: !1,\n      activationTrigger: 2,\n      inputPositionState: i,\n      __demoMode: !1\n    });\n  },\n  [0](t) {\n    var i, e;\n    if ((i = t.dataRef.current) != null && i.disabled || t.comboboxState === 0) return t;\n    if ((e = t.dataRef.current) != null && e.value) {\n      let n = t.dataRef.current.calculateIndex(t.dataRef.current.value);\n      if (n !== -1) return _objectSpread(_objectSpread({}, t), {}, {\n        activeOptionIndex: n,\n        comboboxState: 0,\n        __demoMode: !1,\n        inputPositionState: d.Idle\n      });\n    }\n    return _objectSpread(_objectSpread({}, t), {}, {\n      comboboxState: 0,\n      inputPositionState: d.Idle,\n      __demoMode: !1\n    });\n  },\n  [3](t, i) {\n    return t.isTyping === i.isTyping ? t : _objectSpread(_objectSpread({}, t), {}, {\n      isTyping: i.isTyping\n    });\n  },\n  [2](t, i) {\n    var r, u, a, s;\n    if ((r = t.dataRef.current) != null && r.disabled || t.optionsElement && !((u = t.dataRef.current) != null && u.optionsPropsRef.current.static) && t.comboboxState === 1) return t;\n    if (t.virtual) {\n      let {\n          options: p,\n          disabled: c\n        } = t.virtual,\n        m = i.focus === T.Specific ? i.idx : g(i, {\n          resolveItems: () => p,\n          resolveActiveIndex: () => {\n            var l, x;\n            return (x = (l = t.activeOptionIndex) != null ? l : p.findIndex(S => !c(S))) != null ? x : null;\n          },\n          resolveDisabled: c,\n          resolveId() {\n            throw new Error(\"Function not implemented.\");\n          }\n        }),\n        b = (a = i.trigger) != null ? a : 2;\n      return t.activeOptionIndex === m && t.activationTrigger === b ? t : _objectSpread(_objectSpread({}, t), {}, {\n        activeOptionIndex: m,\n        activationTrigger: b,\n        isTyping: !1,\n        __demoMode: !1\n      });\n    }\n    let e = v(t);\n    if (e.activeOptionIndex === null) {\n      let p = e.options.findIndex(c => !c.dataRef.current.disabled);\n      p !== -1 && (e.activeOptionIndex = p);\n    }\n    let n = i.focus === T.Specific ? i.idx : g(i, {\n        resolveItems: () => e.options,\n        resolveActiveIndex: () => e.activeOptionIndex,\n        resolveId: p => p.id,\n        resolveDisabled: p => p.dataRef.current.disabled\n      }),\n      o = (s = i.trigger) != null ? s : 2;\n    return t.activeOptionIndex === n && t.activationTrigger === o ? t : _objectSpread(_objectSpread(_objectSpread({}, t), e), {}, {\n      isTyping: !1,\n      activeOptionIndex: n,\n      activationTrigger: o,\n      __demoMode: !1\n    });\n  },\n  [4]: (t, i) => {\n    var r, u, a, s;\n    if ((r = t.dataRef.current) != null && r.virtual) return _objectSpread(_objectSpread({}, t), {}, {\n      options: [...t.options, i.payload]\n    });\n    let e = i.payload,\n      n = v(t, p => (p.push(e), p));\n    t.activeOptionIndex === null && (a = (u = t.dataRef.current).isSelected) != null && a.call(u, i.payload.dataRef.current.value) && (n.activeOptionIndex = n.options.indexOf(e));\n    let o = _objectSpread(_objectSpread(_objectSpread({}, t), n), {}, {\n      activationTrigger: 2\n    });\n    return (s = t.dataRef.current) != null && s.__demoMode && t.dataRef.current.value === void 0 && (o.activeOptionIndex = 0), o;\n  },\n  [5]: (t, i) => {\n    var n;\n    if ((n = t.dataRef.current) != null && n.virtual) return _objectSpread(_objectSpread({}, t), {}, {\n      options: t.options.filter(o => o.id !== i.id)\n    });\n    let e = v(t, o => {\n      let r = o.findIndex(u => u.id === i.id);\n      return r !== -1 && o.splice(r, 1), o;\n    });\n    return _objectSpread(_objectSpread(_objectSpread({}, t), e), {}, {\n      activationTrigger: 2\n    });\n  },\n  [6]: (t, i) => t.defaultToFirstOption === i.value ? t : _objectSpread(_objectSpread({}, t), {}, {\n    defaultToFirstOption: i.value\n  }),\n  [7]: (t, i) => t.activationTrigger === i.trigger ? t : _objectSpread(_objectSpread({}, t), {}, {\n    activationTrigger: i.trigger\n  }),\n  [8]: (t, i) => {\n    var n, o;\n    if (t.virtual === null) return _objectSpread(_objectSpread({}, t), {}, {\n      virtual: {\n        options: i.options,\n        disabled: (n = i.disabled) != null ? n : () => !1\n      }\n    });\n    if (t.virtual.options === i.options && t.virtual.disabled === i.disabled) return t;\n    let e = t.activeOptionIndex;\n    if (t.activeOptionIndex !== null) {\n      let r = i.options.indexOf(t.virtual.options[t.activeOptionIndex]);\n      r !== -1 ? e = r : e = null;\n    }\n    return _objectSpread(_objectSpread({}, t), {}, {\n      activeOptionIndex: e,\n      virtual: {\n        options: i.options,\n        disabled: (o = i.disabled) != null ? o : () => !1\n      }\n    });\n  },\n  [9]: (t, i) => t.inputElement === i.element ? t : _objectSpread(_objectSpread({}, t), {}, {\n    inputElement: i.element\n  }),\n  [10]: (t, i) => t.buttonElement === i.element ? t : _objectSpread(_objectSpread({}, t), {}, {\n    buttonElement: i.element\n  }),\n  [11]: (t, i) => t.optionsElement === i.element ? t : _objectSpread(_objectSpread({}, t), {}, {\n    optionsElement: i.element\n  }),\n  [12](t) {\n    return t.inputPositionState.kind !== \"Tracked\" ? t : _objectSpread(_objectSpread({}, t), {}, {\n      inputPositionState: d.Moved\n    });\n  }\n};\nclass y extends A {\n  constructor(e) {\n    super(e);\n    f(this, \"actions\", {\n      onChange: e => {\n        let {\n          onChange: n,\n          compare: o,\n          mode: r,\n          value: u\n        } = this.state.dataRef.current;\n        return O(r, {\n          [0]: () => n == null ? void 0 : n(e),\n          [1]: () => {\n            let a = u.slice(),\n              s = a.findIndex(p => o(p, e));\n            return s === -1 ? a.push(e) : a.splice(s, 1), n == null ? void 0 : n(a);\n          }\n        });\n      },\n      registerOption: (e, n) => (this.send({\n        type: 4,\n        payload: {\n          id: e,\n          dataRef: n\n        }\n      }), () => {\n        this.state.activeOptionIndex === this.state.dataRef.current.calculateIndex(n.current.value) && this.send({\n          type: 6,\n          value: !0\n        }), this.send({\n          type: 5,\n          id: e\n        });\n      }),\n      goToOption: (e, n) => (this.send({\n        type: 6,\n        value: !1\n      }), this.send(_objectSpread(_objectSpread({\n        type: 2\n      }, e), {}, {\n        trigger: n\n      }))),\n      setIsTyping: e => {\n        this.send({\n          type: 3,\n          isTyping: e\n        });\n      },\n      closeCombobox: () => {\n        var e, n;\n        this.send({\n          type: 1\n        }), this.send({\n          type: 6,\n          value: !1\n        }), (n = (e = this.state.dataRef.current).onClose) == null || n.call(e);\n      },\n      openCombobox: () => {\n        this.send({\n          type: 0\n        }), this.send({\n          type: 6,\n          value: !0\n        });\n      },\n      setActivationTrigger: e => {\n        this.send({\n          type: 7,\n          trigger: e\n        });\n      },\n      selectActiveOption: () => {\n        let e = this.selectors.activeOptionIndex(this.state);\n        if (e !== null) {\n          if (this.actions.setIsTyping(!1), this.state.virtual) this.actions.onChange(this.state.virtual.options[e]);else {\n            let {\n              dataRef: n\n            } = this.state.options[e];\n            this.actions.onChange(n.current.value);\n          }\n          this.actions.goToOption({\n            focus: T.Specific,\n            idx: e\n          });\n        }\n      },\n      setInputElement: e => {\n        this.send({\n          type: 9,\n          element: e\n        });\n      },\n      setButtonElement: e => {\n        this.send({\n          type: 10,\n          element: e\n        });\n      },\n      setOptionsElement: e => {\n        this.send({\n          type: 11,\n          element: e\n        });\n      }\n    });\n    f(this, \"selectors\", {\n      activeDescendantId: e => {\n        var o, r;\n        let n = this.selectors.activeOptionIndex(e);\n        if (n !== null) return e.virtual ? (r = e.options.find(u => !u.dataRef.current.disabled && e.dataRef.current.compare(u.dataRef.current.value, e.virtual.options[n]))) == null ? void 0 : r.id : (o = e.options[n]) == null ? void 0 : o.id;\n      },\n      activeOptionIndex: e => {\n        if (e.defaultToFirstOption && e.activeOptionIndex === null && (e.virtual ? e.virtual.options.length > 0 : e.options.length > 0)) {\n          if (e.virtual) {\n            let {\n                options: o,\n                disabled: r\n              } = e.virtual,\n              u = o.findIndex(a => {\n                var s;\n                return !((s = r == null ? void 0 : r(a)) != null && s);\n              });\n            if (u !== -1) return u;\n          }\n          let n = e.options.findIndex(o => !o.dataRef.current.disabled);\n          if (n !== -1) return n;\n        }\n        return e.activeOptionIndex;\n      },\n      activeOption: e => {\n        var o, r;\n        let n = this.selectors.activeOptionIndex(e);\n        return n === null ? null : e.virtual ? e.virtual.options[n != null ? n : 0] : (r = (o = e.options[n]) == null ? void 0 : o.dataRef.current.value) != null ? r : null;\n      },\n      isActive: (e, n, o) => {\n        var u;\n        let r = this.selectors.activeOptionIndex(e);\n        return r === null ? !1 : e.virtual ? r === e.dataRef.current.calculateIndex(n) : ((u = e.options[r]) == null ? void 0 : u.id) === o;\n      },\n      shouldScrollIntoView: (e, n, o) => !(e.virtual || e.__demoMode || e.comboboxState !== 0 || e.activationTrigger === 0 || !this.selectors.isActive(e, n, o)),\n      didInputMove(e) {\n        return e.inputPositionState.kind === \"Moved\";\n      }\n    });\n    {\n      let n = this.state.id,\n        o = R.get(null);\n      this.disposables.add(o.on(E.Push, r => {\n        !o.selectors.isTop(r, n) && this.state.comboboxState === 0 && this.actions.closeCombobox();\n      })), this.on(0, () => o.actions.push(n)), this.on(1, () => o.actions.pop(n));\n    }\n    this.disposables.group(n => {\n      this.on(1, o => {\n        o.inputElement && (n.dispose(), n.add(C(o.inputElement, o.inputPositionState, () => {\n          this.send({\n            type: 12\n          });\n        })));\n      });\n    });\n  }\n  static new(_ref) {\n    let {\n      id: e,\n      virtual: n = null,\n      __demoMode: o = !1\n    } = _ref;\n    var r;\n    return new y({\n      id: e,\n      dataRef: {\n        current: {}\n      },\n      comboboxState: o ? 0 : 1,\n      isTyping: !1,\n      options: [],\n      virtual: n ? {\n        options: n.options,\n        disabled: (r = n.disabled) != null ? r : () => !1\n      } : null,\n      activeOptionIndex: null,\n      activationTrigger: 2,\n      inputElement: null,\n      buttonElement: null,\n      optionsElement: null,\n      __demoMode: o,\n      inputPositionState: d.Idle\n    });\n  }\n  reduce(e, n) {\n    return O(n.type, j, e, n);\n  }\n}\nexport { D as ActionTypes, _ as ActivationTrigger, y as ComboboxMachine, P as ComboboxState, k as ValueMode };","map":{"version":3,"names":["I","Object","defineProperty","h","t","i","e","enumerable","configurable","writable","value","f","Machine","A","ActionTypes","E","stackMachines","R","Focus","T","calculateActiveIndex","g","ElementPositionState","d","computeVisualPosition","M","detectMovement","C","sortByDomNode","F","match","O","P","Open","Closed","k","Single","Multi","_","n","Pointer","Other","D","l","OpenCombobox","CloseCombobox","GoToOption","SetTyping","RegisterOption","UnregisterOption","DefaultToFirstOption","SetActivationTrigger","UpdateVirtualConfiguration","SetInputElement","SetButtonElement","SetOptionsElement","MarkInputAsMoved","v","arguments","length","undefined","activeOptionIndex","options","slice","o","dataRef","current","order","sort","u","a","domRef","r","indexOf","j","disabled","comboboxState","inputElement","Tracked","inputPositionState","_objectSpread","isTyping","activationTrigger","__demoMode","calculateIndex","Idle","s","optionsElement","optionsPropsRef","static","virtual","p","c","m","focus","Specific","idx","resolveItems","resolveActiveIndex","x","findIndex","S","resolveDisabled","resolveId","Error","b","trigger","id","payload","push","isSelected","call","filter","splice","defaultToFirstOption","element","buttonElement","kind","Moved","y","constructor","onChange","compare","mode","state","registerOption","send","type","goToOption","setIsTyping","closeCombobox","onClose","openCombobox","setActivationTrigger","selectActiveOption","selectors","actions","setInputElement","setButtonElement","setOptionsElement","activeDescendantId","find","activeOption","isActive","shouldScrollIntoView","didInputMove","get","disposables","add","on","Push","isTop","pop","group","dispose","new","_ref","reduce","ActivationTrigger","ComboboxMachine","ComboboxState","ValueMode"],"sources":["/app/frontend/node_modules/@headlessui/react/dist/components/combobox/combobox-machine.js"],"sourcesContent":["var I=Object.defineProperty;var h=(t,i,e)=>i in t?I(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e;var f=(t,i,e)=>(h(t,typeof i!=\"symbol\"?i+\"\":i,e),e);import{Machine as A}from'../../machine.js';import{ActionTypes as E,stackMachines as R}from'../../machines/stack-machine.js';import{Focus as T,calculateActiveIndex as g}from'../../utils/calculate-active-index.js';import{ElementPositionState as d,computeVisualPosition as M,detectMovement as C}from'../../utils/element-movement.js';import{sortByDomNode as F}from'../../utils/focus-management.js';import{match as O}from'../../utils/match.js';var P=(e=>(e[e.Open=0]=\"Open\",e[e.Closed=1]=\"Closed\",e))(P||{}),k=(e=>(e[e.Single=0]=\"Single\",e[e.Multi=1]=\"Multi\",e))(k||{}),_=(n=>(n[n.Pointer=0]=\"Pointer\",n[n.Focus=1]=\"Focus\",n[n.Other=2]=\"Other\",n))(_||{}),D=(l=>(l[l.OpenCombobox=0]=\"OpenCombobox\",l[l.CloseCombobox=1]=\"CloseCombobox\",l[l.GoToOption=2]=\"GoToOption\",l[l.SetTyping=3]=\"SetTyping\",l[l.RegisterOption=4]=\"RegisterOption\",l[l.UnregisterOption=5]=\"UnregisterOption\",l[l.DefaultToFirstOption=6]=\"DefaultToFirstOption\",l[l.SetActivationTrigger=7]=\"SetActivationTrigger\",l[l.UpdateVirtualConfiguration=8]=\"UpdateVirtualConfiguration\",l[l.SetInputElement=9]=\"SetInputElement\",l[l.SetButtonElement=10]=\"SetButtonElement\",l[l.SetOptionsElement=11]=\"SetOptionsElement\",l[l.MarkInputAsMoved=12]=\"MarkInputAsMoved\",l))(D||{});function v(t,i=e=>e){let e=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=i(t.options.slice()),o=n.length>0&&n[0].dataRef.current.order!==null?n.sort((u,a)=>u.dataRef.current.order-a.dataRef.current.order):F(n,u=>u.dataRef.current.domRef.current),r=e?o.indexOf(e):null;return r===-1&&(r=null),{options:o,activeOptionIndex:r}}let j={[1](t){var e;if((e=t.dataRef.current)!=null&&e.disabled||t.comboboxState===1)return t;let i=t.inputElement?d.Tracked(M(t.inputElement)):t.inputPositionState;return{...t,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,inputPositionState:i,__demoMode:!1}},[0](t){var i,e;if((i=t.dataRef.current)!=null&&i.disabled||t.comboboxState===0)return t;if((e=t.dataRef.current)!=null&&e.value){let n=t.dataRef.current.calculateIndex(t.dataRef.current.value);if(n!==-1)return{...t,activeOptionIndex:n,comboboxState:0,__demoMode:!1,inputPositionState:d.Idle}}return{...t,comboboxState:0,inputPositionState:d.Idle,__demoMode:!1}},[3](t,i){return t.isTyping===i.isTyping?t:{...t,isTyping:i.isTyping}},[2](t,i){var r,u,a,s;if((r=t.dataRef.current)!=null&&r.disabled||t.optionsElement&&!((u=t.dataRef.current)!=null&&u.optionsPropsRef.current.static)&&t.comboboxState===1)return t;if(t.virtual){let{options:p,disabled:c}=t.virtual,m=i.focus===T.Specific?i.idx:g(i,{resolveItems:()=>p,resolveActiveIndex:()=>{var l,x;return(x=(l=t.activeOptionIndex)!=null?l:p.findIndex(S=>!c(S)))!=null?x:null},resolveDisabled:c,resolveId(){throw new Error(\"Function not implemented.\")}}),b=(a=i.trigger)!=null?a:2;return t.activeOptionIndex===m&&t.activationTrigger===b?t:{...t,activeOptionIndex:m,activationTrigger:b,isTyping:!1,__demoMode:!1}}let e=v(t);if(e.activeOptionIndex===null){let p=e.options.findIndex(c=>!c.dataRef.current.disabled);p!==-1&&(e.activeOptionIndex=p)}let n=i.focus===T.Specific?i.idx:g(i,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:p=>p.id,resolveDisabled:p=>p.dataRef.current.disabled}),o=(s=i.trigger)!=null?s:2;return t.activeOptionIndex===n&&t.activationTrigger===o?t:{...t,...e,isTyping:!1,activeOptionIndex:n,activationTrigger:o,__demoMode:!1}},[4]:(t,i)=>{var r,u,a,s;if((r=t.dataRef.current)!=null&&r.virtual)return{...t,options:[...t.options,i.payload]};let e=i.payload,n=v(t,p=>(p.push(e),p));t.activeOptionIndex===null&&(a=(u=t.dataRef.current).isSelected)!=null&&a.call(u,i.payload.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(e));let o={...t,...n,activationTrigger:2};return(s=t.dataRef.current)!=null&&s.__demoMode&&t.dataRef.current.value===void 0&&(o.activeOptionIndex=0),o},[5]:(t,i)=>{var n;if((n=t.dataRef.current)!=null&&n.virtual)return{...t,options:t.options.filter(o=>o.id!==i.id)};let e=v(t,o=>{let r=o.findIndex(u=>u.id===i.id);return r!==-1&&o.splice(r,1),o});return{...t,...e,activationTrigger:2}},[6]:(t,i)=>t.defaultToFirstOption===i.value?t:{...t,defaultToFirstOption:i.value},[7]:(t,i)=>t.activationTrigger===i.trigger?t:{...t,activationTrigger:i.trigger},[8]:(t,i)=>{var n,o;if(t.virtual===null)return{...t,virtual:{options:i.options,disabled:(n=i.disabled)!=null?n:()=>!1}};if(t.virtual.options===i.options&&t.virtual.disabled===i.disabled)return t;let e=t.activeOptionIndex;if(t.activeOptionIndex!==null){let r=i.options.indexOf(t.virtual.options[t.activeOptionIndex]);r!==-1?e=r:e=null}return{...t,activeOptionIndex:e,virtual:{options:i.options,disabled:(o=i.disabled)!=null?o:()=>!1}}},[9]:(t,i)=>t.inputElement===i.element?t:{...t,inputElement:i.element},[10]:(t,i)=>t.buttonElement===i.element?t:{...t,buttonElement:i.element},[11]:(t,i)=>t.optionsElement===i.element?t:{...t,optionsElement:i.element},[12](t){return t.inputPositionState.kind!==\"Tracked\"?t:{...t,inputPositionState:d.Moved}}};class y extends A{constructor(e){super(e);f(this,\"actions\",{onChange:e=>{let{onChange:n,compare:o,mode:r,value:u}=this.state.dataRef.current;return O(r,{[0]:()=>n==null?void 0:n(e),[1]:()=>{let a=u.slice(),s=a.findIndex(p=>o(p,e));return s===-1?a.push(e):a.splice(s,1),n==null?void 0:n(a)}})},registerOption:(e,n)=>(this.send({type:4,payload:{id:e,dataRef:n}}),()=>{this.state.activeOptionIndex===this.state.dataRef.current.calculateIndex(n.current.value)&&this.send({type:6,value:!0}),this.send({type:5,id:e})}),goToOption:(e,n)=>(this.send({type:6,value:!1}),this.send({type:2,...e,trigger:n})),setIsTyping:e=>{this.send({type:3,isTyping:e})},closeCombobox:()=>{var e,n;this.send({type:1}),this.send({type:6,value:!1}),(n=(e=this.state.dataRef.current).onClose)==null||n.call(e)},openCombobox:()=>{this.send({type:0}),this.send({type:6,value:!0})},setActivationTrigger:e=>{this.send({type:7,trigger:e})},selectActiveOption:()=>{let e=this.selectors.activeOptionIndex(this.state);if(e!==null){if(this.actions.setIsTyping(!1),this.state.virtual)this.actions.onChange(this.state.virtual.options[e]);else{let{dataRef:n}=this.state.options[e];this.actions.onChange(n.current.value)}this.actions.goToOption({focus:T.Specific,idx:e})}},setInputElement:e=>{this.send({type:9,element:e})},setButtonElement:e=>{this.send({type:10,element:e})},setOptionsElement:e=>{this.send({type:11,element:e})}});f(this,\"selectors\",{activeDescendantId:e=>{var o,r;let n=this.selectors.activeOptionIndex(e);if(n!==null)return e.virtual?(r=e.options.find(u=>!u.dataRef.current.disabled&&e.dataRef.current.compare(u.dataRef.current.value,e.virtual.options[n])))==null?void 0:r.id:(o=e.options[n])==null?void 0:o.id},activeOptionIndex:e=>{if(e.defaultToFirstOption&&e.activeOptionIndex===null&&(e.virtual?e.virtual.options.length>0:e.options.length>0)){if(e.virtual){let{options:o,disabled:r}=e.virtual,u=o.findIndex(a=>{var s;return!((s=r==null?void 0:r(a))!=null&&s)});if(u!==-1)return u}let n=e.options.findIndex(o=>!o.dataRef.current.disabled);if(n!==-1)return n}return e.activeOptionIndex},activeOption:e=>{var o,r;let n=this.selectors.activeOptionIndex(e);return n===null?null:e.virtual?e.virtual.options[n!=null?n:0]:(r=(o=e.options[n])==null?void 0:o.dataRef.current.value)!=null?r:null},isActive:(e,n,o)=>{var u;let r=this.selectors.activeOptionIndex(e);return r===null?!1:e.virtual?r===e.dataRef.current.calculateIndex(n):((u=e.options[r])==null?void 0:u.id)===o},shouldScrollIntoView:(e,n,o)=>!(e.virtual||e.__demoMode||e.comboboxState!==0||e.activationTrigger===0||!this.selectors.isActive(e,n,o)),didInputMove(e){return e.inputPositionState.kind===\"Moved\"}});{let n=this.state.id,o=R.get(null);this.disposables.add(o.on(E.Push,r=>{!o.selectors.isTop(r,n)&&this.state.comboboxState===0&&this.actions.closeCombobox()})),this.on(0,()=>o.actions.push(n)),this.on(1,()=>o.actions.pop(n))}this.disposables.group(n=>{this.on(1,o=>{o.inputElement&&(n.dispose(),n.add(C(o.inputElement,o.inputPositionState,()=>{this.send({type:12})})))})})}static new({id:e,virtual:n=null,__demoMode:o=!1}){var r;return new y({id:e,dataRef:{current:{}},comboboxState:o?0:1,isTyping:!1,options:[],virtual:n?{options:n.options,disabled:(r=n.disabled)!=null?r:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:o,inputPositionState:d.Idle})}reduce(e,n){return O(n.type,j,e,n)}}export{D as ActionTypes,_ as ActivationTrigger,y as ComboboxMachine,P as ComboboxState,k as ValueMode};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}