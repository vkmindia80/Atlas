{"ast":null,"code":"import React,{useState}from'react';import{PlusIcon}from'@heroicons/react/24/outline';import{projectService}from'../../services/projectService';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const QuickAddTask=_ref=>{let{projectId,onTaskAdded}=_ref;const[isOpen,setIsOpen]=useState(false);const[taskName,setTaskName]=useState('');const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();if(!taskName.trim())return;try{setLoading(true);await projectService.createTask(projectId,{name:taskName.trim(),status:'not_started',priority:'medium',percent_complete:0});setTaskName('');setIsOpen(false);onTaskAdded();}catch(error){console.error('Error creating task:',error);}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsOpen(true),className:\"fixed bottom-6 right-6 bg-primary-600 hover:bg-primary-700 text-white rounded-full p-4 shadow-lg hover:shadow-xl transition-all z-50\",\"data-testid\":\"quick-add-task-btn\",children:/*#__PURE__*/_jsx(PlusIcon,{className:\"h-6 w-6\"})}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\",onClick:()=>setIsOpen(false)}),/*#__PURE__*/_jsx(\"div\",{className:\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sm:flex sm:items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 sm:mx-0 sm:h-10 sm:w-10\",children:/*#__PURE__*/_jsx(PlusIcon,{className:\"h-6 w-6 text-primary-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Quick Add Task\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter task name...\",value:taskName,onChange:e=>setTaskName(e.target.value),className:\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",autoFocus:true,\"data-testid\":\"quick-task-input\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!taskName.trim()||loading,className:\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed\",\"data-testid\":\"quick-task-submit\",children:loading?'Adding...':'Add Task'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setIsOpen(false),className:\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\",children:\"Cancel\"})]})]})})]})})]});};","map":{"version":3,"names":["React","useState","PlusIcon","projectService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","QuickAddTask","_ref","projectId","onTaskAdded","isOpen","setIsOpen","taskName","setTaskName","loading","setLoading","handleSubmit","e","preventDefault","trim","createTask","name","status","priority","percent_complete","error","console","children","onClick","className","onSubmit","type","placeholder","value","onChange","target","autoFocus","disabled"],"sources":["/app/frontend/src/components/Project/QuickAddTask.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { PlusIcon } from '@heroicons/react/24/outline';\nimport { projectService } from '../../services/projectService';\n\ninterface QuickAddTaskProps {\n  projectId: string;\n  onTaskAdded: () => void;\n}\n\nexport const QuickAddTask: React.FC<QuickAddTaskProps> = ({ projectId, onTaskAdded }) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [taskName, setTaskName] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!taskName.trim()) return;\n\n    try {\n      setLoading(true);\n      await projectService.createTask(projectId, {\n        name: taskName.trim(),\n        status: 'not_started',\n        priority: 'medium',\n        percent_complete: 0\n      });\n      \n      setTaskName('');\n      setIsOpen(false);\n      onTaskAdded();\n    } catch (error) {\n      console.error('Error creating task:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <>\n      {/* Floating Action Button */}\n      <button\n        onClick={() => setIsOpen(true)}\n        className=\"fixed bottom-6 right-6 bg-primary-600 hover:bg-primary-700 text-white rounded-full p-4 shadow-lg hover:shadow-xl transition-all z-50\"\n        data-testid=\"quick-add-task-btn\"\n      >\n        <PlusIcon className=\"h-6 w-6\" />\n      </button>\n\n      {/* Modal */}\n      {isOpen && (\n        <div className=\"fixed inset-0 z-50 overflow-y-auto\">\n          <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n            {/* Backdrop */}\n            <div\n              className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\"\n              onClick={() => setIsOpen(false)}\n            ></div>\n\n            {/* Modal Panel */}\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n              <form onSubmit={handleSubmit}>\n                <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n                  <div className=\"sm:flex sm:items-start\">\n                    <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 sm:mx-0 sm:h-10 sm:w-10\">\n                      <PlusIcon className=\"h-6 w-6 text-primary-600\" />\n                    </div>\n                    <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1\">\n                      <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                        Quick Add Task\n                      </h3>\n                      <div className=\"mt-4\">\n                        <input\n                          type=\"text\"\n                          placeholder=\"Enter task name...\"\n                          value={taskName}\n                          onChange={(e) => setTaskName(e.target.value)}\n                          className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\n                          autoFocus\n                          data-testid=\"quick-task-input\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n                  <button\n                    type=\"submit\"\n                    disabled={!taskName.trim() || loading}\n                    className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary-600 text-base font-medium text-white hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50 disabled:cursor-not-allowed\"\n                    data-testid=\"quick-task-submit\"\n                  >\n                    {loading ? 'Adding...' : 'Add Task'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setIsOpen(false)}\n                    className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,QAAQ,KAAQ,6BAA6B,CACtD,OAASC,cAAc,KAAQ,+BAA+B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAO/D,MAAO,MAAM,CAAAC,YAAyC,CAAGC,IAAA,EAAgC,IAA/B,CAAEC,SAAS,CAAEC,WAAY,CAAC,CAAAF,IAAA,CAClF,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACe,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CAE7C,KAAM,CAAAmB,YAAY,CAAG,KAAO,CAAAC,CAAkB,EAAK,CACjDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAAE,OAEtB,GAAI,CACFJ,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAhB,cAAc,CAACqB,UAAU,CAACZ,SAAS,CAAE,CACzCa,IAAI,CAAET,QAAQ,CAACO,IAAI,CAAC,CAAC,CACrBG,MAAM,CAAE,aAAa,CACrBC,QAAQ,CAAE,QAAQ,CAClBC,gBAAgB,CAAE,CACpB,CAAC,CAAC,CAEFX,WAAW,CAAC,EAAE,CAAC,CACfF,SAAS,CAAC,KAAK,CAAC,CAChBF,WAAW,CAAC,CAAC,CACf,CAAE,MAAOgB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,OAAS,CACRV,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEZ,KAAA,CAAAE,SAAA,EAAAsB,QAAA,eAEE1B,IAAA,WACE2B,OAAO,CAAEA,CAAA,GAAMjB,SAAS,CAAC,IAAI,CAAE,CAC/BkB,SAAS,CAAC,sIAAsI,CAChJ,cAAY,oBAAoB,CAAAF,QAAA,cAEhC1B,IAAA,CAACH,QAAQ,EAAC+B,SAAS,CAAC,SAAS,CAAE,CAAC,CAC1B,CAAC,CAGRnB,MAAM,eACLT,IAAA,QAAK4B,SAAS,CAAC,oCAAoC,CAAAF,QAAA,cACjDxB,KAAA,QAAK0B,SAAS,CAAC,2FAA2F,CAAAF,QAAA,eAExG1B,IAAA,QACE4B,SAAS,CAAC,4DAA4D,CACtED,OAAO,CAAEA,CAAA,GAAMjB,SAAS,CAAC,KAAK,CAAE,CAC5B,CAAC,cAGPV,IAAA,QAAK4B,SAAS,CAAC,0JAA0J,CAAAF,QAAA,cACvKxB,KAAA,SAAM2B,QAAQ,CAAEd,YAAa,CAAAW,QAAA,eAC3B1B,IAAA,QAAK4B,SAAS,CAAC,wCAAwC,CAAAF,QAAA,cACrDxB,KAAA,QAAK0B,SAAS,CAAC,wBAAwB,CAAAF,QAAA,eACrC1B,IAAA,QAAK4B,SAAS,CAAC,sHAAsH,CAAAF,QAAA,cACnI1B,IAAA,CAACH,QAAQ,EAAC+B,SAAS,CAAC,0BAA0B,CAAE,CAAC,CAC9C,CAAC,cACN1B,KAAA,QAAK0B,SAAS,CAAC,sDAAsD,CAAAF,QAAA,eACnE1B,IAAA,OAAI4B,SAAS,CAAC,6CAA6C,CAAAF,QAAA,CAAC,gBAE5D,CAAI,CAAC,cACL1B,IAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAF,QAAA,cACnB1B,IAAA,UACE8B,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,oBAAoB,CAChCC,KAAK,CAAErB,QAAS,CAChBsB,QAAQ,CAAGjB,CAAC,EAAKJ,WAAW,CAACI,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE,CAC7CJ,SAAS,CAAC,iIAAiI,CAC3IO,SAAS,MACT,cAAY,kBAAkB,CAC/B,CAAC,CACC,CAAC,EACH,CAAC,EACH,CAAC,CACH,CAAC,cAENjC,KAAA,QAAK0B,SAAS,CAAC,0DAA0D,CAAAF,QAAA,eACvE1B,IAAA,WACE8B,IAAI,CAAC,QAAQ,CACbM,QAAQ,CAAE,CAACzB,QAAQ,CAACO,IAAI,CAAC,CAAC,EAAIL,OAAQ,CACtCe,SAAS,CAAC,yTAAyT,CACnU,cAAY,mBAAmB,CAAAF,QAAA,CAE9Bb,OAAO,CAAG,WAAW,CAAG,UAAU,CAC7B,CAAC,cACTb,IAAA,WACE8B,IAAI,CAAC,QAAQ,CACbH,OAAO,CAAEA,CAAA,GAAMjB,SAAS,CAAC,KAAK,CAAE,CAChCkB,SAAS,CAAC,4QAA4Q,CAAAF,QAAA,CACvR,QAED,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CACN,EACD,CAAC,CAEP,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}