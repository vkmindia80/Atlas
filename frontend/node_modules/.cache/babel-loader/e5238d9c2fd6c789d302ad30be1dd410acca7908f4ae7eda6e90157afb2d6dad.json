{"ast":null,"code":"import React from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const RiskHeatmap=_ref=>{let{riskData,'data-testid':testId}=_ref;const healthStatuses=['green','yellow','red'];const statusLabels={green:'On Track',yellow:'At Risk',red:'Critical'};const getColorIntensity=(status,count,maxCount)=>{if(count===0)return'bg-gray-100';const intensity=Math.min(count/maxCount,1);if(status==='green'){return intensity>0.7?'bg-green-600':intensity>0.4?'bg-green-400':'bg-green-200';}else if(status==='yellow'){return intensity>0.7?'bg-yellow-600':intensity>0.4?'bg-yellow-400':'bg-yellow-200';}else{return intensity>0.7?'bg-red-600':intensity>0.4?'bg-red-400':'bg-red-200';}};const maxCount=Math.max(...Object.values(riskData).map(d=>d.count),1);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",\"data-testid\":testId,children:[/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-3 gap-4\",children:healthStatuses.map(status=>{const data=riskData[status]||{count:0,avg_risk:0};return/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded-lg border-2 transition-all hover:scale-105 \".concat(getColorIntensity(status,data.count,maxCount),\" \").concat(data.count>0?'text-white':'text-gray-600'),\"data-testid\":\"risk-cell-\".concat(status),children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl font-bold\",children:data.count}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium\",children:statusLabels[status]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs mt-1\",children:[\"Avg Risk: \",(data.avg_risk*100).toFixed(0),\"%\"]})]})},status);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center space-x-4 text-sm text-gray-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-gray-100 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"No Projects\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-200 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Low Count\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-400 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Medium Count\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-green-600 rounded\"}),/*#__PURE__*/_jsx(\"span\",{children:\"High Count\"})]})]})]});};","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","RiskHeatmap","_ref","riskData","testId","healthStatuses","statusLabels","green","yellow","red","getColorIntensity","status","count","maxCount","intensity","Math","min","max","Object","values","map","d","className","children","data","avg_risk","concat","toFixed"],"sources":["/app/frontend/src/components/Portfolio/RiskHeatmap.tsx"],"sourcesContent":["import React from 'react';\n\ninterface RiskHeatmapProps {\n  riskData: Record<string, { count: number; avg_risk: number }>;\n  'data-testid'?: string;\n}\n\nexport const RiskHeatmap: React.FC<RiskHeatmapProps> = ({ riskData, 'data-testid': testId }) => {\n  const healthStatuses = ['green', 'yellow', 'red'];\n  const statusLabels = {\n    green: 'On Track',\n    yellow: 'At Risk',\n    red: 'Critical'\n  };\n\n  const getColorIntensity = (status: string, count: number, maxCount: number) => {\n    if (count === 0) return 'bg-gray-100';\n    \n    const intensity = Math.min(count / maxCount, 1);\n    \n    if (status === 'green') {\n      return intensity > 0.7 ? 'bg-green-600' : intensity > 0.4 ? 'bg-green-400' : 'bg-green-200';\n    } else if (status === 'yellow') {\n      return intensity > 0.7 ? 'bg-yellow-600' : intensity > 0.4 ? 'bg-yellow-400' : 'bg-yellow-200';\n    } else {\n      return intensity > 0.7 ? 'bg-red-600' : intensity > 0.4 ? 'bg-red-400' : 'bg-red-200';\n    }\n  };\n\n  const maxCount = Math.max(...Object.values(riskData).map(d => d.count), 1);\n\n  return (\n    <div className=\"space-y-4\" data-testid={testId}>\n      {/* Risk Matrix */}\n      <div className=\"grid grid-cols-3 gap-4\">\n        {healthStatuses.map(status => {\n          const data = riskData[status] || { count: 0, avg_risk: 0 };\n          \n          return (\n            <div\n              key={status}\n              className={`p-4 rounded-lg border-2 transition-all hover:scale-105 ${getColorIntensity(status, data.count, maxCount)} ${\n                data.count > 0 ? 'text-white' : 'text-gray-600'\n              }`}\n              data-testid={`risk-cell-${status}`}\n            >\n              <div className=\"text-center\">\n                <div className=\"text-2xl font-bold\">{data.count}</div>\n                <div className=\"text-sm font-medium\">{statusLabels[status as keyof typeof statusLabels]}</div>\n                <div className=\"text-xs mt-1\">\n                  Avg Risk: {(data.avg_risk * 100).toFixed(0)}%\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Legend */}\n      <div className=\"flex items-center justify-center space-x-4 text-sm text-gray-600\">\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-4 h-4 bg-gray-100 rounded\"></div>\n          <span>No Projects</span>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-4 h-4 bg-green-200 rounded\"></div>\n          <span>Low Count</span>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-4 h-4 bg-green-400 rounded\"></div>\n          <span>Medium Count</span>\n        </div>\n        <div className=\"flex items-center space-x-2\">\n          <div className=\"w-4 h-4 bg-green-600 rounded\"></div>\n          <span>High Count</span>\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}