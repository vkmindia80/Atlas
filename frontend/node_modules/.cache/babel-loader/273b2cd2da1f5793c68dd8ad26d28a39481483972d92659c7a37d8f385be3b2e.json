{"ast":null,"code":"import React,{useState}from'react';import{CurrencyDollarIcon,ArrowTrendingUpIcon,ArrowTrendingDownIcon,ExclamationTriangleIcon}from'@heroicons/react/24/outline';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ProjectBudget=_ref=>{let{projectDetail,onUpdate}=_ref;const[activeTab,setActiveTab]=useState('overview');const{project}=projectDetail;const financials=project.financials;// Calculate budget metrics\nconst budgetUtilization=financials.spent_amount/financials.total_budget*100;const remainingBudget=financials.total_budget-financials.spent_amount;const isOverBudget=financials.spent_amount>financials.total_budget;const variancePercentage=(financials.spent_amount-financials.total_budget)/financials.total_budget*100;// Mock cost breakdown data\nconst costBreakdown=[{category:'Labor',budgeted:financials.labor_cost,actual:financials.labor_cost*0.85,percentage:60},{category:'Materials',budgeted:financials.material_cost,actual:financials.material_cost*1.1,percentage:20},{category:'Vendors',budgeted:financials.vendor_cost,actual:financials.vendor_cost*0.95,percentage:15},{category:'Overhead',budgeted:financials.overhead_cost,actual:financials.overhead_cost*1.05,percentage:5}];const formatCurrency=amount=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',minimumFractionDigits:0,maximumFractionDigits:0}).format(amount);};const getStatusColor=variance=>{if(variance>10)return'text-red-600 bg-red-50';if(variance>5)return'text-yellow-600 bg-yellow-50';return'text-green-600 bg-green-50';};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",\"data-testid\":\"project-budget\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Total Budget\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",\"data-testid\":\"total-budget\",children:formatCurrency(financials.total_budget)})]}),/*#__PURE__*/_jsx(CurrencyDollarIcon,{className:\"h-8 w-8 text-gray-400\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Spent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",\"data-testid\":\"spent-amount\",children:formatCurrency(financials.spent_amount)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[budgetUtilization.toFixed(1),\"% of budget\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center \".concat(isOverBudget?'text-red-500':'text-green-500'),children:isOverBudget?/*#__PURE__*/_jsx(ArrowTrendingUpIcon,{className:\"h-8 w-8\"}):/*#__PURE__*/_jsx(ArrowTrendingDownIcon,{className:\"h-8 w-8\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow border\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Remaining\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold \".concat(remainingBudget>=0?'text-gray-900':'text-red-600'),\"data-testid\":\"remaining-budget\",children:formatCurrency(remainingBudget)})]}),remainingBudget<0&&/*#__PURE__*/_jsx(ExclamationTriangleIcon,{className:\"h-8 w-8 text-red-500\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow border\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-600\",children:\"Forecast\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-900\",\"data-testid\":\"forecast-cost\",children:formatCurrency(financials.forecasted_cost)}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm \".concat(variancePercentage>0?'text-red-500':'text-green-500'),children:[variancePercentage>0?'+':'',variancePercentage.toFixed(1),\"% variance\"]})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"nav\",{className:\"-mb-px flex space-x-8 px-6\",children:[{id:'overview',name:'Budget Overview'},{id:'breakdown',name:'Cost Breakdown'},{id:'forecast',name:'Forecast & Trends'}].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab.id),className:\"py-4 px-1 border-b-2 font-medium text-sm \".concat(activeTab===tab.id?'border-primary-500 text-primary-600':'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'),\"data-testid\":\"budget-tab-\".concat(tab.id),children:tab.name},tab.id))})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:\"Budget Utilization\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[budgetUtilization.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-2 rounded-full \".concat(budgetUtilization>100?'bg-red-600':budgetUtilization>80?'bg-yellow-500':'bg-green-500'),style:{width:\"\".concat(Math.min(budgetUtilization,100),\"%\")},\"data-testid\":\"budget-progress-bar\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Committed\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:formatCurrency(financials.committed_amount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-50 rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Cost to Complete\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold text-gray-900\",children:formatCurrency(financials.cost_to_complete)})]})]})]}),activeTab==='breakdown'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Cost Breakdown by Category\"}),costBreakdown.map((category,index)=>{const variance=(category.actual-category.budgeted)/category.budgeted*100;return/*#__PURE__*/_jsxs(\"div\",{className:\"border rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900\",children:category.category}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-1 rounded text-sm font-medium \".concat(getStatusColor(Math.abs(variance))),children:[variance>0?'+':'',variance.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-3 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Budgeted\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:formatCurrency(category.budgeted)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Actual\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:formatCurrency(category.actual)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Variance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold \".concat(variance>0?'text-red-600':'text-green-600'),children:formatCurrency(category.actual-category.budgeted)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-1 rounded-full bg-primary-600\",style:{width:\"\".concat(category.actual/category.budgeted*100,\"%\")}})})})]},index);})]}),activeTab==='forecast'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Budget Forecast\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(ArrowTrendingUpIcon,{className:\"h-5 w-5 text-blue-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-blue-800\",children:\"Forecast Analysis\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-blue-700\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Based on current spending trends, the project is expected to complete within budget with a forecasted total cost of \",formatCurrency(financials.forecasted_cost),\".\"]})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Projected Completion Cost\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold text-gray-900\",children:formatCurrency(financials.forecasted_cost)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:\"Based on current burn rate\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded-lg\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Budget Variance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-bold \".concat(financials.budget_variance>=0?'text-green-600':'text-red-600'),children:formatCurrency(Math.abs(financials.budget_variance))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:financials.budget_variance>=0?'Under budget':'Over budget'})]})]})]})]})]})]});};","map":{"version":3,"names":["React","useState","CurrencyDollarIcon","ArrowTrendingUpIcon","ArrowTrendingDownIcon","ExclamationTriangleIcon","jsx","_jsx","jsxs","_jsxs","ProjectBudget","_ref","projectDetail","onUpdate","activeTab","setActiveTab","project","financials","budgetUtilization","spent_amount","total_budget","remainingBudget","isOverBudget","variancePercentage","costBreakdown","category","budgeted","labor_cost","actual","percentage","material_cost","vendor_cost","overhead_cost","formatCurrency","amount","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","getStatusColor","variance","className","children","toFixed","concat","forecasted_cost","id","name","map","tab","onClick","width","Math","min","committed_amount","cost_to_complete","index","abs","budget_variance"],"sources":["/app/frontend/src/components/Project/ProjectBudget.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { CurrencyDollarIcon, ArrowTrendingUpIcon, ArrowTrendingDownIcon, ExclamationTriangleIcon } from '@heroicons/react/24/outline';\nimport { ProjectDetail } from '../../types/project';\n\ninterface ProjectBudgetProps {\n  projectDetail: ProjectDetail;\n  onUpdate: () => void;\n}\n\nexport const ProjectBudget: React.FC<ProjectBudgetProps> = ({\n  projectDetail,\n  onUpdate\n}) => {\n  const [activeTab, setActiveTab] = useState<'overview' | 'breakdown' | 'forecast'>('overview');\n  \n  const { project } = projectDetail;\n  const financials = project.financials;\n\n  // Calculate budget metrics\n  const budgetUtilization = (financials.spent_amount / financials.total_budget) * 100;\n  const remainingBudget = financials.total_budget - financials.spent_amount;\n  const isOverBudget = financials.spent_amount > financials.total_budget;\n  const variancePercentage = ((financials.spent_amount - financials.total_budget) / financials.total_budget) * 100;\n\n  // Mock cost breakdown data\n  const costBreakdown = [\n    {\n      category: 'Labor',\n      budgeted: financials.labor_cost,\n      actual: financials.labor_cost * 0.85,\n      percentage: 60\n    },\n    {\n      category: 'Materials',\n      budgeted: financials.material_cost,\n      actual: financials.material_cost * 1.1,\n      percentage: 20\n    },\n    {\n      category: 'Vendors',\n      budgeted: financials.vendor_cost,\n      actual: financials.vendor_cost * 0.95,\n      percentage: 15\n    },\n    {\n      category: 'Overhead',\n      budgeted: financials.overhead_cost,\n      actual: financials.overhead_cost * 1.05,\n      percentage: 5\n    }\n  ];\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0,\n    }).format(amount);\n  };\n\n  const getStatusColor = (variance: number) => {\n    if (variance > 10) return 'text-red-600 bg-red-50';\n    if (variance > 5) return 'text-yellow-600 bg-yellow-50';\n    return 'text-green-600 bg-green-50';\n  };\n\n  return (\n    <div className=\"space-y-6\" data-testid=\"project-budget\">\n      {/* Budget Overview Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n        <div className=\"bg-white p-6 rounded-lg shadow border\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Total Budget</p>\n              <p className=\"text-2xl font-bold text-gray-900\" data-testid=\"total-budget\">\n                {formatCurrency(financials.total_budget)}\n              </p>\n            </div>\n            <CurrencyDollarIcon className=\"h-8 w-8 text-gray-400\" />\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow border\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Spent</p>\n              <p className=\"text-2xl font-bold text-gray-900\" data-testid=\"spent-amount\">\n                {formatCurrency(financials.spent_amount)}\n              </p>\n              <p className=\"text-sm text-gray-500\">\n                {budgetUtilization.toFixed(1)}% of budget\n              </p>\n            </div>\n            <div className={`flex items-center ${isOverBudget ? 'text-red-500' : 'text-green-500'}`}>\n              {isOverBudget ? <ArrowTrendingUpIcon className=\"h-8 w-8\" /> : <ArrowTrendingDownIcon className=\"h-8 w-8\" />}\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow border\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Remaining</p>\n              <p className={`text-2xl font-bold ${remainingBudget >= 0 ? 'text-gray-900' : 'text-red-600'}`} data-testid=\"remaining-budget\">\n                {formatCurrency(remainingBudget)}\n              </p>\n            </div>\n            {remainingBudget < 0 && <ExclamationTriangleIcon className=\"h-8 w-8 text-red-500\" />}\n          </div>\n        </div>\n\n        <div className=\"bg-white p-6 rounded-lg shadow border\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <p className=\"text-sm font-medium text-gray-600\">Forecast</p>\n              <p className=\"text-2xl font-bold text-gray-900\" data-testid=\"forecast-cost\">\n                {formatCurrency(financials.forecasted_cost)}\n              </p>\n              <p className={`text-sm ${variancePercentage > 0 ? 'text-red-500' : 'text-green-500'}`}>\n                {variancePercentage > 0 ? '+' : ''}{variancePercentage.toFixed(1)}% variance\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Tabs */}\n      <div className=\"bg-white rounded-lg shadow\">\n        <div className=\"border-b border-gray-200\">\n          <nav className=\"-mb-px flex space-x-8 px-6\">\n            {[\n              { id: 'overview', name: 'Budget Overview' },\n              { id: 'breakdown', name: 'Cost Breakdown' },\n              { id: 'forecast', name: 'Forecast & Trends' }\n            ].map((tab) => (\n              <button\n                key={tab.id}\n                onClick={() => setActiveTab(tab.id as any)}\n                className={`py-4 px-1 border-b-2 font-medium text-sm ${\n                  activeTab === tab.id\n                    ? 'border-primary-500 text-primary-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n                data-testid={`budget-tab-${tab.id}`}\n              >\n                {tab.name}\n              </button>\n            ))}\n          </nav>\n        </div>\n\n        <div className=\"p-6\">\n          {activeTab === 'overview' && (\n            <div className=\"space-y-6\">\n              {/* Budget Progress */}\n              <div>\n                <div className=\"flex justify-between items-center mb-2\">\n                  <span className=\"text-sm font-medium text-gray-700\">Budget Utilization</span>\n                  <span className=\"text-sm text-gray-500\">{budgetUtilization.toFixed(1)}%</span>\n                </div>\n                <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                  <div\n                    className={`h-2 rounded-full ${\n                      budgetUtilization > 100 ? 'bg-red-600' :\n                      budgetUtilization > 80 ? 'bg-yellow-500' : 'bg-green-500'\n                    }`}\n                    style={{ width: `${Math.min(budgetUtilization, 100)}%` }}\n                    data-testid=\"budget-progress-bar\"\n                  ></div>\n                </div>\n              </div>\n\n              {/* Key Metrics */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\n                  <p className=\"text-sm text-gray-600\">Committed</p>\n                  <p className=\"text-lg font-semibold text-gray-900\">\n                    {formatCurrency(financials.committed_amount)}\n                  </p>\n                </div>\n                <div className=\"p-4 bg-gray-50 rounded-lg\">\n                  <p className=\"text-sm text-gray-600\">Cost to Complete</p>\n                  <p className=\"text-lg font-semibold text-gray-900\">\n                    {formatCurrency(financials.cost_to_complete)}\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'breakdown' && (\n            <div className=\"space-y-4\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Cost Breakdown by Category</h3>\n              \n              {costBreakdown.map((category, index) => {\n                const variance = ((category.actual - category.budgeted) / category.budgeted) * 100;\n                \n                return (\n                  <div key={index} className=\"border rounded-lg p-4\">\n                    <div className=\"flex justify-between items-center mb-2\">\n                      <h4 className=\"font-medium text-gray-900\">{category.category}</h4>\n                      <span className={`px-2 py-1 rounded text-sm font-medium ${getStatusColor(Math.abs(variance))}`}>\n                        {variance > 0 ? '+' : ''}{variance.toFixed(1)}%\n                      </span>\n                    </div>\n                    \n                    <div className=\"grid grid-cols-3 gap-4 text-sm\">\n                      <div>\n                        <p className=\"text-gray-600\">Budgeted</p>\n                        <p className=\"font-semibold\">{formatCurrency(category.budgeted)}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-gray-600\">Actual</p>\n                        <p className=\"font-semibold\">{formatCurrency(category.actual)}</p>\n                      </div>\n                      <div>\n                        <p className=\"text-gray-600\">Variance</p>\n                        <p className={`font-semibold ${variance > 0 ? 'text-red-600' : 'text-green-600'}`}>\n                          {formatCurrency(category.actual - category.budgeted)}\n                        </p>\n                      </div>\n                    </div>\n                    \n                    {/* Progress bar for this category */}\n                    <div className=\"mt-2\">\n                      <div className=\"w-full bg-gray-200 rounded-full h-1\">\n                        <div\n                          className=\"h-1 rounded-full bg-primary-600\"\n                          style={{ width: `${(category.actual / category.budgeted) * 100}%` }}\n                        ></div>\n                      </div>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          )}\n\n          {activeTab === 'forecast' && (\n            <div className=\"space-y-6\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Budget Forecast</h3>\n              \n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex\">\n                  <div className=\"flex-shrink-0\">\n                    <ArrowTrendingUpIcon className=\"h-5 w-5 text-blue-400\" />\n                  </div>\n                  <div className=\"ml-3\">\n                    <h3 className=\"text-sm font-medium text-blue-800\">Forecast Analysis</h3>\n                    <div className=\"mt-2 text-sm text-blue-700\">\n                      <p>Based on current spending trends, the project is expected to complete within budget with a forecasted total cost of {formatCurrency(financials.forecasted_cost)}.</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Forecast metrics */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div className=\"p-4 border rounded-lg\">\n                  <p className=\"text-sm text-gray-600\">Projected Completion Cost</p>\n                  <p className=\"text-xl font-bold text-gray-900\">{formatCurrency(financials.forecasted_cost)}</p>\n                  <p className=\"text-sm text-gray-500 mt-1\">Based on current burn rate</p>\n                </div>\n                <div className=\"p-4 border rounded-lg\">\n                  <p className=\"text-sm text-gray-600\">Budget Variance</p>\n                  <p className={`text-xl font-bold ${financials.budget_variance >= 0 ? 'text-green-600' : 'text-red-600'}`}>\n                    {formatCurrency(Math.abs(financials.budget_variance))}\n                  </p>\n                  <p className=\"text-sm text-gray-500 mt-1\">\n                    {financials.budget_variance >= 0 ? 'Under budget' : 'Over budget'}\n                  </p>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}