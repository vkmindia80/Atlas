{"ast":null,"code":"import _objectSpread from \"/app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar f = Object.defineProperty;\nvar b = (t, n, e) => n in t ? f(t, n, {\n  enumerable: !0,\n  configurable: !0,\n  writable: !0,\n  value: e\n}) : t[n] = e;\nvar p = (t, n, e) => (b(t, typeof n != \"symbol\" ? n + \"\" : n, e), e);\nimport { Machine as P } from '../../machine.js';\nimport { stackMachines as y } from '../../machines/stack-machine.js';\nimport * as a from '../../utils/dom.js';\nimport { getFocusableElements as I } from '../../utils/focus-management.js';\nimport { match as M } from '../../utils/match.js';\nimport { getOwnerDocument as T } from '../../utils/owner.js';\nvar v = (e => (e[e.Open = 0] = \"Open\", e[e.Closed = 1] = \"Closed\", e))(v || {}),\n  h = (r => (r[r.OpenPopover = 0] = \"OpenPopover\", r[r.ClosePopover = 1] = \"ClosePopover\", r[r.SetButton = 2] = \"SetButton\", r[r.SetButtonId = 3] = \"SetButtonId\", r[r.SetPanel = 4] = \"SetPanel\", r[r.SetPanelId = 5] = \"SetPanelId\", r))(h || {});\nlet E = {\n  [0]: t => t.popoverState === 0 ? t : _objectSpread(_objectSpread({}, t), {}, {\n    popoverState: 0,\n    __demoMode: !1\n  }),\n  [1](t) {\n    return t.popoverState === 1 ? t : _objectSpread(_objectSpread({}, t), {}, {\n      popoverState: 1,\n      __demoMode: !1\n    });\n  },\n  [2](t, n) {\n    return t.button === n.button ? t : _objectSpread(_objectSpread({}, t), {}, {\n      button: n.button\n    });\n  },\n  [3](t, n) {\n    return t.buttonId === n.buttonId ? t : _objectSpread(_objectSpread({}, t), {}, {\n      buttonId: n.buttonId\n    });\n  },\n  [4](t, n) {\n    return t.panel === n.panel ? t : _objectSpread(_objectSpread({}, t), {}, {\n      panel: n.panel\n    });\n  },\n  [5](t, n) {\n    return t.panelId === n.panelId ? t : _objectSpread(_objectSpread({}, t), {}, {\n      panelId: n.panelId\n    });\n  }\n};\nclass d extends P {\n  constructor(e) {\n    super(e);\n    p(this, \"actions\", {\n      close: () => this.send({\n        type: 1\n      }),\n      refocusableClose: e => {\n        this.actions.close();\n        let o = (() => e ? a.isHTMLElement(e) ? e : \"current\" in e && a.isHTMLElement(e.current) ? e.current : this.state.button : this.state.button)();\n        o == null || o.focus();\n      },\n      open: () => this.send({\n        type: 0\n      }),\n      setButtonId: e => this.send({\n        type: 3,\n        buttonId: e\n      }),\n      setButton: e => this.send({\n        type: 2,\n        button: e\n      }),\n      setPanelId: e => this.send({\n        type: 5,\n        panelId: e\n      }),\n      setPanel: e => this.send({\n        type: 4,\n        panel: e\n      })\n    });\n    p(this, \"selectors\", {\n      isPortalled: e => {\n        var i;\n        if (!e.button || !e.panel) return !1;\n        let o = (i = T(e.button)) != null ? i : document;\n        for (let u of o.querySelectorAll(\"body > *\")) if (Number(u == null ? void 0 : u.contains(e.button)) ^ Number(u == null ? void 0 : u.contains(e.panel))) return !0;\n        let l = I(o),\n          s = l.indexOf(e.button),\n          r = (s + l.length - 1) % l.length,\n          c = (s + 1) % l.length,\n          S = l[r],\n          m = l[c];\n        return !e.panel.contains(S) && !e.panel.contains(m);\n      }\n    });\n    {\n      let o = this.state.id,\n        l = y.get(null);\n      this.on(0, () => l.actions.push(o)), this.on(1, () => l.actions.pop(o));\n    }\n  }\n  static new(_ref) {\n    let {\n      id: e,\n      __demoMode: o = !1\n    } = _ref;\n    return new d({\n      id: e,\n      __demoMode: o,\n      popoverState: o ? 0 : 1,\n      buttons: {\n        current: []\n      },\n      button: null,\n      buttonId: null,\n      panel: null,\n      panelId: null,\n      beforePanelSentinel: {\n        current: null\n      },\n      afterPanelSentinel: {\n        current: null\n      },\n      afterButtonSentinel: {\n        current: null\n      }\n    });\n  }\n  reduce(e, o) {\n    return M(o.type, E, e, o);\n  }\n}\nexport { h as ActionTypes, d as PopoverMachine, v as PopoverStates };","map":{"version":3,"names":["f","Object","defineProperty","b","t","n","e","enumerable","configurable","writable","value","p","Machine","P","stackMachines","y","a","getFocusableElements","I","match","M","getOwnerDocument","T","v","Open","Closed","h","r","OpenPopover","ClosePopover","SetButton","SetButtonId","SetPanel","SetPanelId","E","popoverState","_objectSpread","__demoMode","button","buttonId","panel","panelId","d","constructor","close","send","type","refocusableClose","actions","o","isHTMLElement","current","state","focus","open","setButtonId","setButton","setPanelId","setPanel","isPortalled","i","document","u","querySelectorAll","Number","contains","l","s","indexOf","length","c","S","m","id","get","on","push","pop","new","_ref","buttons","beforePanelSentinel","afterPanelSentinel","afterButtonSentinel","reduce","ActionTypes","PopoverMachine","PopoverStates"],"sources":["/app/frontend/node_modules/@headlessui/react/dist/components/popover/popover-machine.js"],"sourcesContent":["var f=Object.defineProperty;var b=(t,n,e)=>n in t?f(t,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[n]=e;var p=(t,n,e)=>(b(t,typeof n!=\"symbol\"?n+\"\":n,e),e);import{Machine as P}from'../../machine.js';import{stackMachines as y}from'../../machines/stack-machine.js';import*as a from'../../utils/dom.js';import{getFocusableElements as I}from'../../utils/focus-management.js';import{match as M}from'../../utils/match.js';import{getOwnerDocument as T}from'../../utils/owner.js';var v=(e=>(e[e.Open=0]=\"Open\",e[e.Closed=1]=\"Closed\",e))(v||{}),h=(r=>(r[r.OpenPopover=0]=\"OpenPopover\",r[r.ClosePopover=1]=\"ClosePopover\",r[r.SetButton=2]=\"SetButton\",r[r.SetButtonId=3]=\"SetButtonId\",r[r.SetPanel=4]=\"SetPanel\",r[r.SetPanelId=5]=\"SetPanelId\",r))(h||{});let E={[0]:t=>t.popoverState===0?t:{...t,popoverState:0,__demoMode:!1},[1](t){return t.popoverState===1?t:{...t,popoverState:1,__demoMode:!1}},[2](t,n){return t.button===n.button?t:{...t,button:n.button}},[3](t,n){return t.buttonId===n.buttonId?t:{...t,buttonId:n.buttonId}},[4](t,n){return t.panel===n.panel?t:{...t,panel:n.panel}},[5](t,n){return t.panelId===n.panelId?t:{...t,panelId:n.panelId}}};class d extends P{constructor(e){super(e);p(this,\"actions\",{close:()=>this.send({type:1}),refocusableClose:e=>{this.actions.close();let o=(()=>e?a.isHTMLElement(e)?e:\"current\"in e&&a.isHTMLElement(e.current)?e.current:this.state.button:this.state.button)();o==null||o.focus()},open:()=>this.send({type:0}),setButtonId:e=>this.send({type:3,buttonId:e}),setButton:e=>this.send({type:2,button:e}),setPanelId:e=>this.send({type:5,panelId:e}),setPanel:e=>this.send({type:4,panel:e})});p(this,\"selectors\",{isPortalled:e=>{var i;if(!e.button||!e.panel)return!1;let o=(i=T(e.button))!=null?i:document;for(let u of o.querySelectorAll(\"body > *\"))if(Number(u==null?void 0:u.contains(e.button))^Number(u==null?void 0:u.contains(e.panel)))return!0;let l=I(o),s=l.indexOf(e.button),r=(s+l.length-1)%l.length,c=(s+1)%l.length,S=l[r],m=l[c];return!e.panel.contains(S)&&!e.panel.contains(m)}});{let o=this.state.id,l=y.get(null);this.on(0,()=>l.actions.push(o)),this.on(1,()=>l.actions.pop(o))}}static new({id:e,__demoMode:o=!1}){return new d({id:e,__demoMode:o,popoverState:o?0:1,buttons:{current:[]},button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:{current:null},afterPanelSentinel:{current:null},afterButtonSentinel:{current:null}})}reduce(e,o){return M(o.type,E,e,o)}}export{h as ActionTypes,d as PopoverMachine,v as PopoverStates};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}