{"ast":null,"code":"import { disposables as s } from '../../utils/disposables.js';\nimport { createStore as d } from '../../utils/store.js';\nimport { adjustScrollbarPadding as i } from './adjust-scrollbar-padding.js';\nimport { handleIOSLocking as l } from './handle-ios-locking.js';\nimport { preventScroll as p } from './prevent-scroll.js';\nfunction r(e) {\n  let o = {};\n  for (let t of e) Object.assign(o, t(o));\n  return o;\n}\nlet c = d(() => new Map(), {\n  PUSH(e, o) {\n    var n;\n    let t = (n = this.get(e)) != null ? n : {\n      doc: e,\n      count: 0,\n      d: s(),\n      meta: new Set(),\n      computedMeta: {}\n    };\n    return t.count++, t.meta.add(o), t.computedMeta = r(t.meta), this.set(e, t), this;\n  },\n  POP(e, o) {\n    let t = this.get(e);\n    return t && (t.count--, t.meta.delete(o), t.computedMeta = r(t.meta)), this;\n  },\n  SCROLL_PREVENT(e) {\n    let o = {\n        doc: e.doc,\n        d: e.d,\n        meta() {\n          return e.computedMeta;\n        }\n      },\n      t = [l(), i(), p()];\n    t.forEach(_ref => {\n      let {\n        before: n\n      } = _ref;\n      return n == null ? void 0 : n(o);\n    }), t.forEach(_ref2 => {\n      let {\n        after: n\n      } = _ref2;\n      return n == null ? void 0 : n(o);\n    });\n  },\n  SCROLL_ALLOW(_ref3) {\n    let {\n      d: e\n    } = _ref3;\n    e.dispose();\n  },\n  TEARDOWN(_ref4) {\n    let {\n      doc: e\n    } = _ref4;\n    this.delete(e);\n  }\n});\nc.subscribe(() => {\n  let e = c.getSnapshot(),\n    o = new Map();\n  for (let [t] of e) o.set(t, t.documentElement.style.overflow);\n  for (let t of e.values()) {\n    let n = o.get(t.doc) === \"hidden\",\n      a = t.count !== 0;\n    (a && !n || !a && n) && c.dispatch(t.count > 0 ? \"SCROLL_PREVENT\" : \"SCROLL_ALLOW\", t), t.count === 0 && c.dispatch(\"TEARDOWN\", t);\n  }\n});\nexport { c as overflows };","map":{"version":3,"names":["disposables","s","createStore","d","adjustScrollbarPadding","i","handleIOSLocking","l","preventScroll","p","r","e","o","t","Object","assign","c","Map","PUSH","n","get","doc","count","meta","Set","computedMeta","add","set","POP","delete","SCROLL_PREVENT","forEach","_ref","before","_ref2","after","SCROLL_ALLOW","_ref3","dispose","TEARDOWN","_ref4","subscribe","getSnapshot","documentElement","style","overflow","values","a","dispatch","overflows"],"sources":["/app/frontend/node_modules/@headlessui/react/dist/hooks/document-overflow/overflow-store.js"],"sourcesContent":["import{disposables as s}from'../../utils/disposables.js';import{createStore as d}from'../../utils/store.js';import{adjustScrollbarPadding as i}from'./adjust-scrollbar-padding.js';import{handleIOSLocking as l}from'./handle-ios-locking.js';import{preventScroll as p}from'./prevent-scroll.js';function r(e){let o={};for(let t of e)Object.assign(o,t(o));return o}let c=d(()=>new Map,{PUSH(e,o){var n;let t=(n=this.get(e))!=null?n:{doc:e,count:0,d:s(),meta:new Set,computedMeta:{}};return t.count++,t.meta.add(o),t.computedMeta=r(t.meta),this.set(e,t),this},POP(e,o){let t=this.get(e);return t&&(t.count--,t.meta.delete(o),t.computedMeta=r(t.meta)),this},SCROLL_PREVENT(e){let o={doc:e.doc,d:e.d,meta(){return e.computedMeta}},t=[l(),i(),p()];t.forEach(({before:n})=>n==null?void 0:n(o)),t.forEach(({after:n})=>n==null?void 0:n(o))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});c.subscribe(()=>{let e=c.getSnapshot(),o=new Map;for(let[t]of e)o.set(t,t.documentElement.style.overflow);for(let t of e.values()){let n=o.get(t.doc)===\"hidden\",a=t.count!==0;(a&&!n||!a&&n)&&c.dispatch(t.count>0?\"SCROLL_PREVENT\":\"SCROLL_ALLOW\",t),t.count===0&&c.dispatch(\"TEARDOWN\",t)}});export{c as overflows};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}